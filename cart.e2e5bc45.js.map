{"mappings":"AEAO,MAAM,EAAa,MAAO,IAC/B,GAAI,CACF,IAAM,EAAW,MAAM,MACrB,CAAC,+DAA+D,EAAE,EAAA,CAAI,EAExE,OAAO,MAAM,EAAS,IAAI,EAC5B,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,kCAAmC,GAC1C,IACT,CACF,ECVa,EAAiB,AAAC,GAC7B,EACG,GAAG,CACF,AAAC,GACC;A;A;A;AAIyC,iDAAA,EAAE,EAAQ,KAAK,CAAC;A;AAE6B,8FAAA,EAAE,EAAQ,QAAQ,CAAC;AACzB,wFAAA,EAAE,EAAQ,IAAI,CAAC;A;AAEtD,iDAAA,EAAE,EAAQ,KAAK,CAAC;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAiBhB,iDAAA,EAAE,EAAQ,MAAM,CAAC;A;A;A;A;A;A;AAO5D,MAAA,CAAC,EAEF,IAAI,CAAC,IFrCJ,EAAO,SAAS,aAAa,CAAC,iBAEpC,AAAA,EAAW,GAAG,IAAI,CAAC,AAAC,IAClB,EAAK,SAAS,CAAG,AAAA,EAAe,EAAK,IAAI,CAC3C,GAeA,MAAM,EAAa,SAAS,aAAa,CAAC,iBAC1C,IAAI,EAAa,KAEjB,SAAS,EAAe,CAAO,CAAE,CAAS,EACxC,IAAM,EACJ,AAAc,QAAd,EACI,EAAQ,sBAAsB,CAC9B,EAAQ,kBAAkB,CAE5B,EAAS,OAAO,EAAS,WAAW,EAAK,CAAA,AAAc,QAAd,EAAsB,EAAI,EAAA,EAEnE,EAAS,GAEb,CAAA,EAAS,WAAW,CAAG,CAAvB,CACF,CAEA,SAAS,EAAa,CAAQ,CAAE,CAAS,EACvC,EAAe,EAAU,GACzB,EAAa,YAAY,KACvB,EAAe,EAAU,EAC3B,EAAG,IACL,CAEA,SAAS,IACP,cAAc,EAChB,CAEA,EAAW,gBAAgB,CAAC,YAAa,AAAC,IACpC,EAAE,MAAM,CAAC,OAAO,CAAC,yBAEnB,EADY,EAAE,MAAM,CAAC,OAAO,CAAC,yBACX,OACT,EAAE,MAAM,CAAC,OAAO,CAAC,+BAE1B,EADY,EAAE,MAAM,CAAC,OAAO,CAAC,8BACX,WAEtB,GAEA,SAAS,gBAAgB,CAAC,UAAW,GACrC,EAAW,gBAAgB,CAAC,aAAc","sources":["<anon>","src/cart.js","src/js/services/getUserAPI.js","src/js/markup/createCartList.js"],"sourcesContent":["const $ba073568f698536e$export$9dd2a0f49dcd5fd9 = async (id)=>{\n    try {\n        const response = await fetch(`https://682dfb9c746f8ca4a47b717c.mockapi.io/foodboutique/users/${id}`);\n        return await response.json();\n    } catch (error) {\n        console.error(\"Error while triing to get user:\", error);\n        return null;\n    }\n};\n\n\nconst $457a7682a518fee4$export$970d8f830ad21e10 = (cart)=>cart.map((product)=>`\n       <li class=\"basket__product\">\n            <div class=\"basket__product--square\"></div>\n            <div class=\"basket__product--content\">\n              <h4 class=\"basket__product--title\">${product.title}</h4>\n              <div class=\"basket__product--wrap\">\n                <p class=\"basket__product--text\">Category:<span class=\"basket__product--bold\">${product.category}</span></p>\n              <p class=\"basket__product--text\">Size:<span class=\"basket__product--bold\">${product.size}</span></p>\n              </div>\n              <p class=\"basket__product--price\">$${product.price}</p>\n            </div>\n            <button class=\"basket__product--close\">\n            <svg\n            class=\"basket__product--icon\"\n            viewBox=\"0 0 32 32\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M25 9.093l-2.093-2.093-6.907 6.907-6.907-6.907-2.093 2.093 6.907 6.907-6.907 6.907 2.093 2.093 6.907-6.907 6.907 6.907 2.093-2.093-6.907-6.907 6.907-6.907z\"\n            ></path>\n          </svg>\n          </button>\n           <div class=\"basket__product--controls\">\n              <button class=\"basket__product--btn basket__product--subtract\">\n                <div class=\"basket__product--minus\"></div>\n              </button>\n              <p class=\"basket__product--number\">${product.number}</p>\n              <button class=\"basket__product--btn basket__product--add\">\n                <div class=\"basket__product--plus\"></div>\n                <div class=\"basket__product--plus\"></div>\n              </button>\n            </div>\n          </li>\n      `).join(\"\");\n\n\nconst $d3ea86992b712cb9$var$cart = document.querySelector(\".basket__list\");\n(0, $ba073568f698536e$export$9dd2a0f49dcd5fd9)(1).then((user)=>{\n    $d3ea86992b712cb9$var$cart.innerHTML = (0, $457a7682a518fee4$export$970d8f830ad21e10)(user.cart);\n});\n// document.querySelector(\".basket__list\").addEventListener(\"click\", (e) => {\n//   if (e.target.classList.contains(\"basket__product--subtract\") || e.target.parentNode.classList.contains(\"basket__product--subtract\")) {\n//     const newNum = Number(e.target.closest(\".basket__product--subtract\").nextElementSibling.textContent) - 1;\n//     if (newNum < 0) {\n//       return\n//     }\n//     e.target.closest(\".basket__product--subtract\").nextElementSibling.textContent = newNum;\n//   } else if (e.target.classList.contains(\"basket__product--add\") || e.target.parentNode.classList.contains(\"basket__product--add\")) {\n//     const newNum = Number(e.target.closest(\".basket__product--add\").previousElementSibling.textContent) + 1;\n//     e.target.closest(\".basket__product--add\").previousElementSibling.textContent = newNum;\n//   }\n// });\nconst $d3ea86992b712cb9$var$basketList = document.querySelector(\".basket__list\");\nlet $d3ea86992b712cb9$var$intervalId = null;\nfunction $d3ea86992b712cb9$var$changeQuantity(element, direction) {\n    const numberEl = direction === \"add\" ? element.previousElementSibling : element.nextElementSibling;\n    let newNum = Number(numberEl.textContent) + (direction === \"add\" ? 1 : -1);\n    if (newNum < 0) return;\n    numberEl.textContent = newNum;\n}\nfunction $d3ea86992b712cb9$var$startHolding(actionEl, direction) {\n    $d3ea86992b712cb9$var$changeQuantity(actionEl, direction);\n    $d3ea86992b712cb9$var$intervalId = setInterval(()=>{\n        $d3ea86992b712cb9$var$changeQuantity(actionEl, direction);\n    }, 150);\n}\nfunction $d3ea86992b712cb9$var$stopHolding() {\n    clearInterval($d3ea86992b712cb9$var$intervalId);\n}\n$d3ea86992b712cb9$var$basketList.addEventListener(\"mousedown\", (e)=>{\n    if (e.target.closest(\".basket__product--add\")) {\n        const btn = e.target.closest(\".basket__product--add\");\n        $d3ea86992b712cb9$var$startHolding(btn, \"add\");\n    } else if (e.target.closest(\".basket__product--subtract\")) {\n        const btn = e.target.closest(\".basket__product--subtract\");\n        $d3ea86992b712cb9$var$startHolding(btn, \"subtract\");\n    }\n});\ndocument.addEventListener(\"mouseup\", $d3ea86992b712cb9$var$stopHolding);\n$d3ea86992b712cb9$var$basketList.addEventListener(\"mouseleave\", $d3ea86992b712cb9$var$stopHolding);\n\n\n//# sourceMappingURL=cart.e2e5bc45.js.map\n","import { getUserAPI } from \"./js/services/getUserAPI\";\r\nimport { createCartList } from \"./js/markup/createCartList\";\r\nconst cart = document.querySelector(\".basket__list\");\r\n\r\ngetUserAPI(1).then((user) => {\r\n  cart.innerHTML = createCartList(user.cart);\r\n});\r\n\r\n// document.querySelector(\".basket__list\").addEventListener(\"click\", (e) => {\r\n//   if (e.target.classList.contains(\"basket__product--subtract\") || e.target.parentNode.classList.contains(\"basket__product--subtract\")) {\r\n//     const newNum = Number(e.target.closest(\".basket__product--subtract\").nextElementSibling.textContent) - 1;\r\n//     if (newNum < 0) {\r\n//       return\r\n//     }\r\n//     e.target.closest(\".basket__product--subtract\").nextElementSibling.textContent = newNum;\r\n//   } else if (e.target.classList.contains(\"basket__product--add\") || e.target.parentNode.classList.contains(\"basket__product--add\")) {\r\n//     const newNum = Number(e.target.closest(\".basket__product--add\").previousElementSibling.textContent) + 1;\r\n//     e.target.closest(\".basket__product--add\").previousElementSibling.textContent = newNum;\r\n//   }\r\n// });\r\n\r\nconst basketList = document.querySelector(\".basket__list\");\r\nlet intervalId = null;\r\n\r\nfunction changeQuantity(element, direction) {\r\n  const numberEl =\r\n    direction === \"add\"\r\n      ? element.previousElementSibling\r\n      : element.nextElementSibling;\r\n\r\n  let newNum = Number(numberEl.textContent) + (direction === \"add\" ? 1 : -1);\r\n\r\n  if (newNum < 0) return;\r\n\r\n  numberEl.textContent = newNum;\r\n}\r\n\r\nfunction startHolding(actionEl, direction) {\r\n  changeQuantity(actionEl, direction);\r\n  intervalId = setInterval(() => {\r\n    changeQuantity(actionEl, direction);\r\n  }, 150);\r\n}\r\n\r\nfunction stopHolding() {\r\n  clearInterval(intervalId);\r\n}\r\n\r\nbasketList.addEventListener(\"mousedown\", (e) => {\r\n  if (e.target.closest(\".basket__product--add\")) {\r\n    const btn = e.target.closest(\".basket__product--add\");\r\n    startHolding(btn, \"add\");\r\n  } else if (e.target.closest(\".basket__product--subtract\")) {\r\n    const btn = e.target.closest(\".basket__product--subtract\");\r\n    startHolding(btn, \"subtract\");\r\n  }\r\n});\r\n\r\ndocument.addEventListener(\"mouseup\", stopHolding);\r\nbasketList.addEventListener(\"mouseleave\", stopHolding);\r\n","export const getUserAPI = async (id) => {\r\n  try {\r\n    const response = await fetch(\r\n      `https://682dfb9c746f8ca4a47b717c.mockapi.io/foodboutique/users/${id}`\r\n    );\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(\"Error while triing to get user:\", error);\r\n    return null; \r\n  }\r\n};","export const createCartList = (cart) =>\r\n  cart\r\n    .map(\r\n      (product) =>\r\n        `\r\n       <li class=\"basket__product\">\r\n            <div class=\"basket__product--square\"></div>\r\n            <div class=\"basket__product--content\">\r\n              <h4 class=\"basket__product--title\">${product.title}</h4>\r\n              <div class=\"basket__product--wrap\">\r\n                <p class=\"basket__product--text\">Category:<span class=\"basket__product--bold\">${product.category}</span></p>\r\n              <p class=\"basket__product--text\">Size:<span class=\"basket__product--bold\">${product.size}</span></p>\r\n              </div>\r\n              <p class=\"basket__product--price\">$${product.price}</p>\r\n            </div>\r\n            <button class=\"basket__product--close\">\r\n            <svg\r\n            class=\"basket__product--icon\"\r\n            viewBox=\"0 0 32 32\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              d=\"M25 9.093l-2.093-2.093-6.907 6.907-6.907-6.907-2.093 2.093 6.907 6.907-6.907 6.907 2.093 2.093 6.907-6.907 6.907 6.907 2.093-2.093-6.907-6.907 6.907-6.907z\"\r\n            ></path>\r\n          </svg>\r\n          </button>\r\n           <div class=\"basket__product--controls\">\r\n              <button class=\"basket__product--btn basket__product--subtract\">\r\n                <div class=\"basket__product--minus\"></div>\r\n              </button>\r\n              <p class=\"basket__product--number\">${product.number}</p>\r\n              <button class=\"basket__product--btn basket__product--add\">\r\n                <div class=\"basket__product--plus\"></div>\r\n                <div class=\"basket__product--plus\"></div>\r\n              </button>\r\n            </div>\r\n          </li>\r\n      `\r\n    )\r\n    .join(\"\");\r\n"],"names":["$ba073568f698536e$export$9dd2a0f49dcd5fd9","id","response","fetch","json","error","console","$457a7682a518fee4$export$970d8f830ad21e10","cart","map","product","title","category","size","price","number","join","$d3ea86992b712cb9$var$cart","document","querySelector","then","user","innerHTML","$d3ea86992b712cb9$var$basketList","$d3ea86992b712cb9$var$intervalId","$d3ea86992b712cb9$var$changeQuantity","element","direction","numberEl","previousElementSibling","nextElementSibling","newNum","Number","textContent","$d3ea86992b712cb9$var$startHolding","actionEl","setInterval","$d3ea86992b712cb9$var$stopHolding","clearInterval","addEventListener","e","target","closest"],"version":3,"file":"cart.e2e5bc45.js.map"}