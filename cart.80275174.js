var t=globalThis,e={},r={},o=t.parcelRequire46ec;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in r){var o=r[t];delete r[t];var d={id:t,exports:{}};return e[t]=d,o.call(d.exports,d,d.exports),d.exports}var c=Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,e){r[t]=e},t.parcelRequire46ec=o);var d=o.register;d("lgck5",function(t,e){var r=o("4T1Q4");Object.keys(localStorage).includes("cart")||localStorage.setItem("cart",JSON.stringify([])),document.querySelector("#header-cart").textContent=JSON.parse(localStorage.getItem("cart")).length,document.querySelector("body").addEventListener("click",async t=>{if(!("true"===t.target.dataset.productadd||t.target.closest("[data-productadd]")||"true"===t.target.dataset.productclose||t.target.closest('[data-productclose="true"]')||"count"===t.target.dataset.cart||t.target.closest("[data-cart='count']"))&&("true"===t.target.dataset.product||t.target.closest("[data-product]"))){let e;document.querySelector("#product-backdrop").classList.remove("is-hidden"),document.querySelector("body").classList.add("no-scroll"),e=""!==t.target.id?t.target.id:t.target.closest("[data-product]").id,await (0,r.getProduct)(e).then(({_id:t,name:e,img:r,category:o,price:d,size:c,desc:a,is10PercentOff:u,popularity:n})=>{document.querySelector("[data-productmodal]").id=t,document.querySelector("#product-img").src=r,document.querySelector("#product-img").alt=e,document.querySelector("#product-name").textContent=e,document.querySelector("#product-category").textContent=o,document.querySelector("#product-size").textContent=c,document.querySelector("#product-popularity").textContent=n,document.querySelector("#product-price").textContent=d,document.querySelector("#product-desc").textContent=a,document.querySelector("#product-add").innerHTML=JSON.parse(localStorage.getItem("cart")).map(t=>t.id).includes(t)?`Added \u{2713}`:`Add to <svg class="product__icon" width="18" height="18">
            <use href="#cart"></use>
          </svg>`})}}),document.querySelector("#product-close").addEventListener("click",async()=>{document.querySelector("#product-backdrop").classList.add("is-hidden"),document.querySelector("[data-productmodal]").id="",document.querySelector("body").classList.remove("no-scroll"),document.querySelector("#product-img").src="",document.querySelector("#product-img").alt="",document.querySelector("#product-name").textContent="",document.querySelector("#product-category").textContent="",document.querySelector("#product-size").textContent="",document.querySelector("#product-popularity").textContent="",document.querySelector("#product-price").textContent="",document.querySelector("#product-desc").textContent=""}),document.querySelector("body").addEventListener("click",async t=>{if("true"===t.target.dataset.productadd||t.target.closest("[data-productadd]")){let e="true"===t.target.dataset.productadd?t.target:t.target.closest("[data-productadd]"),r=[...JSON.parse(localStorage.getItem("cart"))];r.map(t=>t.id).includes(t.target.closest("[data-product]").id)||(r.push({id:t.target.closest("[data-product]").id,count:1}),e.textContent="✓",localStorage.setItem("cart",JSON.stringify(r)),document.querySelector("#header-cart").textContent=JSON.parse(localStorage.getItem("cart")).length)}}),document.querySelector("[data-productmodal]").addEventListener("click",async t=>{if("true"===t.target.dataset.productaddmodal||t.target.closest("[data-productaddmodal]")){let e="true"===t.target.dataset.productaddmodal?t.target:t.target.closest("[data-productaddmodal]"),r=[...JSON.parse(localStorage.getItem("cart"))];r.map(t=>t.id).includes(t.target.closest("[data-productmodal]").id)||(r.push({id:t.target.closest("[data-productmodal]").id,count:1}),e.textContent="Added ✓",localStorage.setItem("cart",JSON.stringify(r)),document.querySelector("#header-cart").textContent=JSON.parse(localStorage.getItem("cart")).length,document.getElementById(`${t.target.closest("[data-productmodal]").id}`).querySelector("[data-productadd='true']").textContent="✓")}})}),d("4T1Q4",function(t,e){Object.defineProperty(t.exports,"getProduct",{get:()=>r,set:void 0,enumerable:!0,configurable:!0});let r=async t=>{try{return await fetch(`https://food-boutique.b.goit.study/api/products/${t}`).then(t=>t.json())}catch(t){return t}}}),document.querySelector(".basket__list");const c=document.querySelector(".basket__list");let a=null;function u(t,e){let r="add"===e?t.previousElementSibling:t.nextElementSibling,o=Number(r.textContent)+("add"===e?1:-1);o<0||(r.textContent=o)}function n(t,e){u(t,e),a=setInterval(()=>{u(t,e)},150)}function l(){clearInterval(a)}c.addEventListener("mousedown",t=>{t.target.closest(".basket__product--add")?n(t.target.closest(".basket__product--add"),"add"):t.target.closest(".basket__product--subtract")&&n(t.target.closest(".basket__product--subtract"),"subtract")}),document.addEventListener("mouseup",l),c.addEventListener("mouseleave",l),document.querySelector(".basket__form").addEventListener("submit",t=>{t.preventDefault(),document.querySelector(".order__backdrop").classList.remove("order__hidden")}),document.querySelector(".order__close").addEventListener("click",t=>{t.preventDefault(),document.querySelector(".order__backdrop").classList.add("order__hidden")}),o("lgck5");
//# sourceMappingURL=cart.80275174.js.map
