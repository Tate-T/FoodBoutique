{"mappings":"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","sources":["<anon>","src/js/sections/index/product.js","src/js/fetchs/getProduct.js","src/cart.js","src/js/sections/cart/basket.js","src/js/services/getUserAPI.js","src/js/markup/createCartList.js","src/js/sections/cart/basket-modal.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire46ec\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire46ec\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"lgck5\", function(module, exports) {\n\nvar $4T1Q4 = parcelRequire(\"4T1Q4\");\nif (!Object.keys(localStorage).includes(\"cart\")) localStorage.setItem(\"cart\", JSON.stringify([]));\ndocument.querySelector(\"#header-cart\").textContent = JSON.parse(localStorage.getItem(\"cart\")).length;\ndocument.querySelector(\"body\").addEventListener(\"click\", async (e)=>{\n    if (e.target.dataset.productadd === \"true\" || e.target.closest(\"[data-productadd]\") || e.target.dataset.productclose === \"true\" || e.target.closest(`[data-productclose=\"true\"]`) || e.target.dataset.cart === \"count\" || e.target.closest(`[data-cart='count']`)) return;\n    if (e.target.dataset.product === \"true\" || e.target.closest(\"[data-product]\")) {\n        document.querySelector(\"#product-backdrop\").classList.remove(\"is-hidden\");\n        document.querySelector(\"body\").classList.add(\"no-scroll\");\n        let id;\n        if (!(e.target.id === \"\")) id = e.target.id;\n        else id = e.target.closest(\"[data-product]\").id;\n        await (0, $4T1Q4.getProduct)(id).then(({ _id: _id, name: name, img: img, category: category, price: price, size: size, desc: desc, is10PercentOff: is10PercentOff, popularity: popularity })=>{\n            document.querySelector(`[data-productmodal]`).id = _id;\n            document.querySelector(\"#product-img\").src = img;\n            document.querySelector(\"#product-img\").alt = name;\n            document.querySelector(\"#product-name\").textContent = name;\n            document.querySelector(\"#product-category\").textContent = category;\n            document.querySelector(\"#product-size\").textContent = size;\n            document.querySelector(\"#product-popularity\").textContent = popularity;\n            document.querySelector(\"#product-price\").textContent = price;\n            document.querySelector(\"#product-desc\").textContent = desc;\n            document.querySelector(\"#product-add\").innerHTML = JSON.parse(localStorage.getItem(\"cart\")).map((product)=>product.id).includes(_id) ? `Added \\u{2713}` : `Add to <svg class=\"product__icon\" width=\"18\" height=\"18\">\n            <use href=\"#cart\"></use>\n          </svg>`;\n        });\n    }\n});\ndocument.querySelector(\"#product-close\").addEventListener(\"click\", async ()=>{\n    document.querySelector(\"#product-backdrop\").classList.add(\"is-hidden\");\n    document.querySelector(`[data-productmodal]`).id = \"\";\n    document.querySelector(\"body\").classList.remove(\"no-scroll\");\n    document.querySelector(\"#product-img\").src = \"\";\n    document.querySelector(\"#product-img\").alt = \"\";\n    document.querySelector(\"#product-name\").textContent = \"\";\n    document.querySelector(\"#product-category\").textContent = \"\";\n    document.querySelector(\"#product-size\").textContent = \"\";\n    document.querySelector(\"#product-popularity\").textContent = \"\";\n    document.querySelector(\"#product-price\").textContent = \"\";\n    document.querySelector(\"#product-desc\").textContent = \"\";\n});\ndocument.querySelector(\"body\").addEventListener(\"click\", async (e)=>{\n    if (e.target.dataset.productadd === \"true\" || e.target.closest(\"[data-productadd]\")) {\n        const target = e.target.dataset.productadd === \"true\" ? e.target : e.target.closest(\"[data-productadd]\");\n        const array = [\n            ...JSON.parse(localStorage.getItem(\"cart\"))\n        ];\n        if (array.map((item)=>item.id).includes(e.target.closest(\"[data-product]\").id)) return;\n        array.push({\n            id: e.target.closest(\"[data-product]\").id,\n            count: 1\n        });\n        target.textContent = \"\\u2713\";\n        localStorage.setItem(\"cart\", JSON.stringify(array));\n        document.querySelector(\"#header-cart\").textContent = JSON.parse(localStorage.getItem(\"cart\")).length;\n    }\n});\ndocument.querySelector(`[data-productmodal]`).addEventListener(\"click\", async (e)=>{\n    if (e.target.dataset.productaddmodal === \"true\" || e.target.closest(\"[data-productaddmodal]\")) {\n        const target = e.target.dataset.productaddmodal === \"true\" ? e.target : e.target.closest(\"[data-productaddmodal]\");\n        const array = [\n            ...JSON.parse(localStorage.getItem(\"cart\"))\n        ];\n        if (array.map((item)=>item.id).includes(e.target.closest(\"[data-productmodal]\").id)) return;\n        array.push({\n            id: e.target.closest(\"[data-productmodal]\").id,\n            count: 1\n        });\n        target.textContent = \"Added \\u2713\";\n        localStorage.setItem(\"cart\", JSON.stringify(array));\n        document.querySelector(\"#header-cart\").textContent = JSON.parse(localStorage.getItem(\"cart\")).length;\n        document.getElementById(`${e.target.closest(\"[data-productmodal]\").id}`).querySelector(`[data-productadd='true']`).textContent = \"\\u2713\";\n    }\n});\n\n});\nparcelRegister(\"4T1Q4\", function(module, exports) {\n\n$parcel$export(module.exports, \"getProduct\", () => $38edb99ed88ae793$export$e2005c9600188ac7);\nconst $38edb99ed88ae793$export$e2005c9600188ac7 = async (id)=>{\n    try {\n        return await fetch(`https://food-boutique.b.goit.study/api/products/${id}`).then((response)=>response.json());\n    } catch (e) {\n        return e;\n    }\n};\n\n});\n\n\nconst $ba073568f698536e$export$9dd2a0f49dcd5fd9 = async (id)=>{\n    try {\n        const response = await fetch(`https://682dfb9c746f8ca4a47b717c.mockapi.io/foodboutique/users/${id}`);\n        return await response.json();\n    } catch (error) {\n        console.error(\"Error while triing to get user:\", error);\n        return null;\n    }\n};\n\n\nconst $457a7682a518fee4$export$970d8f830ad21e10 = (cart)=>cart.map((product)=>`\n       <li class=\"basket__product\">\n            <div class=\"basket__product--square\"></div>\n            <div class=\"basket__product--content\">\n              <h4 class=\"basket__product--title\">${product.title}</h4>\n              <div class=\"basket__product--wrap\">\n                <p class=\"basket__product--text\">Category:<span class=\"basket__product--bold\">${product.category}</span></p>\n              <p class=\"basket__product--text\">Size:<span class=\"basket__product--bold\">${product.size}</span></p>\n              </div>\n              <p class=\"basket__product--price\">$${product.price}</p>\n            </div>\n            <button class=\"basket__product--close\">\n            <svg\n            class=\"basket__product--icon\"\n            viewBox=\"0 0 32 32\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M25 9.093l-2.093-2.093-6.907 6.907-6.907-6.907-2.093 2.093 6.907 6.907-6.907 6.907 2.093 2.093 6.907-6.907 6.907 6.907 2.093-2.093-6.907-6.907 6.907-6.907z\"\n            ></path>\n          </svg>\n          </button>\n           <div class=\"basket__product--controls\">\n              <button class=\"basket__product--btn basket__product--subtract\">\n                <div class=\"basket__product--minus\"></div>\n              </button>\n              <p class=\"basket__product--number\">${product.number}</p>\n              <button class=\"basket__product--btn basket__product--add\">\n                <div class=\"basket__product--plus\"></div>\n                <div class=\"basket__product--plus\"></div>\n              </button>\n            </div>\n          </li>\n      `).join(\"\");\n\n\nconst $5a9ea29b01d0f342$var$cart = document.querySelector(\".basket__list\");\n// getUserAPI(1).then((user) => {\n//   cart.innerHTML = createCartList(user.cart);\n// });\n// document.querySelector(\".basket__list\").addEventListener(\"click\", (e) => {\n//   if (e.target.classList.contains(\"basket__product--subtract\") || e.target.parentNode.classList.contains(\"basket__product--subtract\")) {\n//     const newNum = Number(e.target.closest(\".basket__product--subtract\").nextElementSibling.textContent) - 1;\n//     if (newNum < 0) {\n//       return\n//     }\n//     e.target.closest(\".basket__product--subtract\").nextElementSibling.textContent = newNum;\n//   } else if (e.target.classList.contains(\"basket__product--add\") || e.target.parentNode.classList.contains(\"basket__product--add\")) {\n//     const newNum = Number(e.target.closest(\".basket__product--add\").previousElementSibling.textContent) + 1;\n//     e.target.closest(\".basket__product--add\").previousElementSibling.textContent = newNum;\n//   }\n// });\nconst $5a9ea29b01d0f342$var$basketList = document.querySelector(\".basket__list\");\nlet $5a9ea29b01d0f342$var$intervalId = null;\nfunction $5a9ea29b01d0f342$var$changeQuantity(element, direction) {\n    const numberEl = direction === \"add\" ? element.previousElementSibling : element.nextElementSibling;\n    let newNum = Number(numberEl.textContent) + (direction === \"add\" ? 1 : -1);\n    if (newNum < 0) return;\n    numberEl.textContent = newNum;\n}\nfunction $5a9ea29b01d0f342$var$startHolding(actionEl, direction) {\n    $5a9ea29b01d0f342$var$changeQuantity(actionEl, direction);\n    $5a9ea29b01d0f342$var$intervalId = setInterval(()=>{\n        $5a9ea29b01d0f342$var$changeQuantity(actionEl, direction);\n    }, 150);\n}\nfunction $5a9ea29b01d0f342$var$stopHolding() {\n    clearInterval($5a9ea29b01d0f342$var$intervalId);\n}\n$5a9ea29b01d0f342$var$basketList.addEventListener(\"mousedown\", (e)=>{\n    if (e.target.closest(\".basket__product--add\")) {\n        const btn = e.target.closest(\".basket__product--add\");\n        $5a9ea29b01d0f342$var$startHolding(btn, \"add\");\n    } else if (e.target.closest(\".basket__product--subtract\")) {\n        const btn = e.target.closest(\".basket__product--subtract\");\n        $5a9ea29b01d0f342$var$startHolding(btn, \"subtract\");\n    }\n});\ndocument.addEventListener(\"mouseup\", $5a9ea29b01d0f342$var$stopHolding);\n$5a9ea29b01d0f342$var$basketList.addEventListener(\"mouseleave\", $5a9ea29b01d0f342$var$stopHolding);\n\n\ndocument.querySelector(\".basket__form\").addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    document.querySelector(\".order__backdrop\").classList.remove(\"order__hidden\");\n});\ndocument.querySelector(\".order__close\").addEventListener(\"click\", (e)=>{\n    e.preventDefault();\n    document.querySelector(\".order__backdrop\").classList.add(\"order__hidden\");\n});\n\n\nparcelRequire(\"lgck5\");\n\n\n//# sourceMappingURL=cart.80275174.js.map\n","import { getProduct } from \"../../fetchs/getProduct\";\r\n\r\nif (!Object.keys(localStorage).includes(\"cart\")) {\r\n  localStorage.setItem(\"cart\", JSON.stringify([]));\r\n}\r\n\r\ndocument.querySelector(\"#header-cart\").textContent = JSON.parse(\r\n  localStorage.getItem(\"cart\")\r\n).length;\r\ndocument.querySelector(\"body\").addEventListener(\"click\", async (e) => {\r\n  if (\r\n    e.target.dataset.productadd === \"true\" ||\r\n    e.target.closest(\"[data-productadd]\") ||\r\n    e.target.dataset.productclose === \"true\" ||\r\n    e.target.closest(`[data-productclose=\"true\"]`) ||\r\n    e.target.dataset.cart === \"count\" ||\r\n    e.target.closest(`[data-cart='count']`)\r\n  ) {\r\n    return;\r\n  }\r\n  if (\r\n    e.target.dataset.product === \"true\" ||\r\n    e.target.closest(\"[data-product]\")\r\n  ) {\r\n    document.querySelector(\"#product-backdrop\").classList.remove(\"is-hidden\");\r\n    document.querySelector(\"body\").classList.add(\"no-scroll\");\r\n    let id;\r\n    if (!(e.target.id === \"\")) {\r\n      id = e.target.id;\r\n    } else {\r\n      id = e.target.closest(\"[data-product]\").id;\r\n    }\r\n    await getProduct(id).then(\r\n      ({\r\n        _id,\r\n        name,\r\n        img,\r\n        category,\r\n        price,\r\n        size,\r\n        desc,\r\n        is10PercentOff,\r\n        popularity,\r\n      }) => {\r\n        document.querySelector(`[data-productmodal]`).id = _id;\r\n        document.querySelector(\"#product-img\").src = img;\r\n        document.querySelector(\"#product-img\").alt = name;\r\n        document.querySelector(\"#product-name\").textContent = name;\r\n        document.querySelector(\"#product-category\").textContent = category;\r\n        document.querySelector(\"#product-size\").textContent = size;\r\n        document.querySelector(\"#product-popularity\").textContent = popularity;\r\n        document.querySelector(\"#product-price\").textContent = price;\r\n        document.querySelector(\"#product-desc\").textContent = desc;\r\n        document.querySelector(\"#product-add\").innerHTML = JSON.parse(\r\n          localStorage.getItem(\"cart\")\r\n        )\r\n          .map((product) => product.id)\r\n          .includes(_id)\r\n          ? `Added ✓`\r\n          : `Add to <svg class=\"product__icon\" width=\"18\" height=\"18\">\r\n            <use href=\"#cart\"></use>\r\n          </svg>`;\r\n      }\r\n    );\r\n  }\r\n});\r\n\r\ndocument.querySelector(\"#product-close\").addEventListener(\"click\", async () => {\r\n  document.querySelector(\"#product-backdrop\").classList.add(\"is-hidden\");\r\n  document.querySelector(`[data-productmodal]`).id = \"\";\r\n  document.querySelector(\"body\").classList.remove(\"no-scroll\");\r\n  document.querySelector(\"#product-img\").src = \"\";\r\n  document.querySelector(\"#product-img\").alt = \"\";\r\n  document.querySelector(\"#product-name\").textContent = \"\";\r\n  document.querySelector(\"#product-category\").textContent = \"\";\r\n  document.querySelector(\"#product-size\").textContent = \"\";\r\n  document.querySelector(\"#product-popularity\").textContent = \"\";\r\n  document.querySelector(\"#product-price\").textContent = \"\";\r\n  document.querySelector(\"#product-desc\").textContent = \"\";\r\n});\r\n\r\ndocument.querySelector(\"body\").addEventListener(\"click\", async (e) => {\r\n  if (\r\n    e.target.dataset.productadd === \"true\" ||\r\n    e.target.closest(\"[data-productadd]\")\r\n  ) {\r\n    const target =\r\n      e.target.dataset.productadd === \"true\"\r\n        ? e.target\r\n        : e.target.closest(\"[data-productadd]\");\r\n    const array = [...JSON.parse(localStorage.getItem(\"cart\"))];\r\n    if (\r\n      array\r\n        .map((item) => item.id)\r\n        .includes(e.target.closest(\"[data-product]\").id)\r\n    ) {\r\n      return;\r\n    }\r\n    array.push({\r\n      id: e.target.closest(\"[data-product]\").id,\r\n      count: 1,\r\n    });\r\n    target.textContent = \"✓\";\r\n    localStorage.setItem(\"cart\", JSON.stringify(array));\r\n    document.querySelector(\"#header-cart\").textContent = JSON.parse(\r\n      localStorage.getItem(\"cart\")\r\n    ).length;\r\n  }\r\n});\r\n\r\ndocument\r\n  .querySelector(`[data-productmodal]`)\r\n  .addEventListener(\"click\", async (e) => {\r\n    if (\r\n      e.target.dataset.productaddmodal === \"true\" ||\r\n      e.target.closest(\"[data-productaddmodal]\")\r\n    ) {\r\n      const target =\r\n        e.target.dataset.productaddmodal === \"true\"\r\n          ? e.target\r\n          : e.target.closest(\"[data-productaddmodal]\");\r\n      const array = [...JSON.parse(localStorage.getItem(\"cart\"))];\r\n      if (\r\n        array\r\n          .map((item) => item.id)\r\n          .includes(e.target.closest(\"[data-productmodal]\").id)\r\n      ) {\r\n        return;\r\n      }\r\n      array.push({\r\n        id: e.target.closest(\"[data-productmodal]\").id,\r\n        count: 1,\r\n      });\r\n      target.textContent = \"Added ✓\";\r\n      localStorage.setItem(\"cart\", JSON.stringify(array));\r\n      document.querySelector(\"#header-cart\").textContent = JSON.parse(\r\n        localStorage.getItem(\"cart\")\r\n      ).length;\r\n      document\r\n        .getElementById(`${e.target.closest(\"[data-productmodal]\").id}`)\r\n        .querySelector(`[data-productadd='true']`).textContent = \"✓\";\r\n    }\r\n  });\r\n","export const getProduct = async (id) => {\r\n  try {\r\n    return await fetch(\r\n      `https://food-boutique.b.goit.study/api/products/${id}`\r\n    ).then((response) => response.json());\r\n  } catch (e) {\r\n    return e;\r\n  }\r\n};\r\n","import \"./js/sections/cart/basket\";\r\nimport \"./js/sections/cart/basket-modal\";\r\n\r\nimport \"./js/sections/index/product.js\";\r\n","import { getUserAPI } from \"../../services/getUserAPI\";\r\nimport { createCartList } from \"../../markup/createCartList\";\r\nconst cart = document.querySelector(\".basket__list\");\r\n\r\n// getUserAPI(1).then((user) => {\r\n//   cart.innerHTML = createCartList(user.cart);\r\n// });\r\n\r\n// document.querySelector(\".basket__list\").addEventListener(\"click\", (e) => {\r\n//   if (e.target.classList.contains(\"basket__product--subtract\") || e.target.parentNode.classList.contains(\"basket__product--subtract\")) {\r\n//     const newNum = Number(e.target.closest(\".basket__product--subtract\").nextElementSibling.textContent) - 1;\r\n//     if (newNum < 0) {\r\n//       return\r\n//     }\r\n//     e.target.closest(\".basket__product--subtract\").nextElementSibling.textContent = newNum;\r\n//   } else if (e.target.classList.contains(\"basket__product--add\") || e.target.parentNode.classList.contains(\"basket__product--add\")) {\r\n//     const newNum = Number(e.target.closest(\".basket__product--add\").previousElementSibling.textContent) + 1;\r\n//     e.target.closest(\".basket__product--add\").previousElementSibling.textContent = newNum;\r\n//   }\r\n// });\r\n\r\nconst basketList = document.querySelector(\".basket__list\");\r\nlet intervalId = null;\r\n\r\nfunction changeQuantity(element, direction) {\r\n  const numberEl =\r\n    direction === \"add\"\r\n      ? element.previousElementSibling\r\n      : element.nextElementSibling;\r\n\r\n  let newNum = Number(numberEl.textContent) + (direction === \"add\" ? 1 : -1);\r\n\r\n  if (newNum < 0) return;\r\n\r\n  numberEl.textContent = newNum;\r\n}\r\n\r\nfunction startHolding(actionEl, direction) {\r\n  changeQuantity(actionEl, direction);\r\n  intervalId = setInterval(() => {\r\n    changeQuantity(actionEl, direction);\r\n  }, 150);\r\n}\r\n\r\nfunction stopHolding() {\r\n  clearInterval(intervalId);\r\n}\r\n\r\nbasketList.addEventListener(\"mousedown\", (e) => {\r\n  if (e.target.closest(\".basket__product--add\")) {\r\n    const btn = e.target.closest(\".basket__product--add\");\r\n    startHolding(btn, \"add\");\r\n  } else if (e.target.closest(\".basket__product--subtract\")) {\r\n    const btn = e.target.closest(\".basket__product--subtract\");\r\n    startHolding(btn, \"subtract\");\r\n  }\r\n});\r\n\r\ndocument.addEventListener(\"mouseup\", stopHolding);\r\nbasketList.addEventListener(\"mouseleave\", stopHolding);\r\n","export const getUserAPI = async (id) => {\r\n  try {\r\n    const response = await fetch(\r\n      `https://682dfb9c746f8ca4a47b717c.mockapi.io/foodboutique/users/${id}`\r\n    );\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(\"Error while triing to get user:\", error);\r\n    return null; \r\n  }\r\n};","export const createCartList = (cart) =>\r\n  cart\r\n    .map(\r\n      (product) =>\r\n        `\r\n       <li class=\"basket__product\">\r\n            <div class=\"basket__product--square\"></div>\r\n            <div class=\"basket__product--content\">\r\n              <h4 class=\"basket__product--title\">${product.title}</h4>\r\n              <div class=\"basket__product--wrap\">\r\n                <p class=\"basket__product--text\">Category:<span class=\"basket__product--bold\">${product.category}</span></p>\r\n              <p class=\"basket__product--text\">Size:<span class=\"basket__product--bold\">${product.size}</span></p>\r\n              </div>\r\n              <p class=\"basket__product--price\">$${product.price}</p>\r\n            </div>\r\n            <button class=\"basket__product--close\">\r\n            <svg\r\n            class=\"basket__product--icon\"\r\n            viewBox=\"0 0 32 32\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              d=\"M25 9.093l-2.093-2.093-6.907 6.907-6.907-6.907-2.093 2.093 6.907 6.907-6.907 6.907 2.093 2.093 6.907-6.907 6.907 6.907 2.093-2.093-6.907-6.907 6.907-6.907z\"\r\n            ></path>\r\n          </svg>\r\n          </button>\r\n           <div class=\"basket__product--controls\">\r\n              <button class=\"basket__product--btn basket__product--subtract\">\r\n                <div class=\"basket__product--minus\"></div>\r\n              </button>\r\n              <p class=\"basket__product--number\">${product.number}</p>\r\n              <button class=\"basket__product--btn basket__product--add\">\r\n                <div class=\"basket__product--plus\"></div>\r\n                <div class=\"basket__product--plus\"></div>\r\n              </button>\r\n            </div>\r\n          </li>\r\n      `\r\n    )\r\n    .join(\"\");\r\n","document\r\n  .querySelector(\".basket__form\")\r\n  .addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    document.querySelector(\".order__backdrop\").classList.remove(\"order__hidden\");\r\n  }  );\r\n\r\n  document\r\n  .querySelector(\".order__close\")\r\n  .addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    document.querySelector(\".order__backdrop\").classList.add(\"order__hidden\");\r\n  }  );\r\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$4T1Q4","Object","keys","localStorage","includes","setItem","JSON","stringify","document","querySelector","textContent","parse","getItem","length","addEventListener","e","target","dataset","productadd","closest","productclose","cart","product","classList","remove","add","getProduct","then","_id","name","img","category","price","size","desc","is10PercentOff","popularity","src","alt","innerHTML","map","array","item","push","count","productaddmodal","getElementById","defineProperty","get","$38edb99ed88ae793$export$e2005c9600188ac7","set","s","enumerable","configurable","fetch","response","json","$5a9ea29b01d0f342$var$basketList","$5a9ea29b01d0f342$var$intervalId","$5a9ea29b01d0f342$var$changeQuantity","element","direction","numberEl","previousElementSibling","nextElementSibling","newNum","Number","$5a9ea29b01d0f342$var$startHolding","actionEl","setInterval","$5a9ea29b01d0f342$var$stopHolding","clearInterval","preventDefault"],"version":3,"file":"cart.80275174.js.map"}